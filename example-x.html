<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./style.css">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Geolonia with Amazon Location Service</title>
</head>
<body>
  <!-- map container -->

  <div
    id="map"
    data-style="./style.json"
    data-hash="on"
  ></div>

  <div id="color-picker" acp-color="#131C36" acp-show-hsl="no" acp-show-hex="no" acp-show-rgb="no"></div>

  <script src="https://cdn.jsdelivr.net/npm/a-color-picker@1.2.1/dist/acolorpicker.min.js"></script>

  <!-- JavaScript dependencies -->
  <script src="https://cdn.geolonia.com/v1/embed?geolonia-api-key=YOUR-API-KEY"></script>

  /**
   * 以下、現在弊社のAPIのテスト中のため予告なく仕様が変更となる可能性があります。
   */
  <script>
    var provider = new window.geolonia.AmazonLocationServiceMapProvider({
      cognitoIdentityPoolId: "ap-northeast-1:d995db2c-8646-4ed2-8122-45dbd2c80019",
      mapName: 'explore.map'
    })

    provider
      .initMap({ container: "#map" })
      .then((map) => {

        // AColorPicker.from( '#color-picker' ).on( 'change', ( picker, color ) => {
        //   const rgb = AColorPicker.parseColor( color, "rgb" );
        //   const waterColor = rgb.map( value => value * 0.7 )
        //   const buildingColor = rgb.map( value => value * 1.2 )
        //   map.setPaintProperty( 'background', 'background-color', AColorPicker.parseColor( waterColor, "rgbcss" ) );
        //   map.setPaintProperty( 'Land', 'fill-color', AColorPicker.parseColor( color, "rgbcss" ) );
        //   map.setPaintProperty( 'Urban area', 'fill-color', AColorPicker.parseColor( color, "rgbcss" ) );
        //   map.setPaintProperty( 'Building', 'fill-color', AColorPicker.parseColor( buildingColor, "rgbcss" ) );
        //   map.setPaintProperty( 'Water area medium scale/Lake or river', 'fill-color', AColorPicker.parseColor( waterColor, "rgbcss" ) );
        //   map.setPaintProperty( 'Water area large scale/Lake or river', 'fill-color', AColorPicker.parseColor( waterColor, "rgbcss" ) );
        //   map.setPaintProperty( 'Water area/Lake, river or bay', 'fill-color', AColorPicker.parseColor( waterColor, "rgbcss" ) );
        //   map.setPaintProperty( 'Water line medium scale', 'line-color', AColorPicker.parseColor( waterColor, "rgbcss" ) );
        //   map.setPaintProperty( 'Water line large scale', 'line-color', AColorPicker.parseColor( waterColor, "rgbcss" ) );
        //   map.setPaintProperty( 'Water line/Waterfall', 'line-color', AColorPicker.parseColor( waterColor, "rgbcss" ) );
        // } )

      })

  </script>
</body>
</html>